"function"==typeof define&&define("puremvc",[],function(){var t;!function(t){var e=function(){function t(t,e){this.notify=null,this.context=null,this.setNotifyMethod(t),this.setNotifyContext(e)}return t.prototype.getNotifyMethod=function(){return this.notify},t.prototype.setNotifyMethod=function(t){this.notify=t},t.prototype.getNotifyContext=function(){return this.context},t.prototype.setNotifyContext=function(t){this.context=t},t.prototype.notifyObserver=function(t){this.getNotifyMethod().call(this.getNotifyContext(),t)},t.prototype.compareNotifyContext=function(t){return t===this.context},t}();t.Observer=e}(t||(t={}));var t;!function(t){var e=function(){function e(t){if(this.mediatorMap=null,this.observerMap=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);e.instanceMap[t]=this,this.multitonKey=t,this.mediatorMap={},this.observerMap={},this.initializeView()}return e.prototype.initializeView=function(){},e.prototype.registerObserver=function(t,e){var i=this.observerMap[t];i?i.push(e):this.observerMap[t]=[e]},e.prototype.removeObserver=function(t,e){for(var i=this.observerMap[t],n=i.length;n--;){var o=i[n];if(o.compareNotifyContext(e)){i.splice(n,1);break}}0==i.length&&delete this.observerMap[t]},e.prototype.notifyObservers=function(t){var e=t.getName(),i=this.observerMap[e];if(i)for(var n=i.slice(0),o=n.length,r=0;o>r;r++){var a=n[r];a.notifyObserver(t)}},e.prototype.registerMediator=function(e){var i=e.getMediatorName();if(!this.mediatorMap[i]){e.initializeNotifier(this.multitonKey),this.mediatorMap[i]=e;var n=e.listNotificationInterests(),o=n.length;if(o>0)for(var r=new t.Observer(e.handleNotification,e),a=0;o>a;a++)this.registerObserver(n[a],r);e.onRegister()}},e.prototype.retrieveMediator=function(t){return this.mediatorMap[t]||null},e.prototype.removeMediator=function(t){var e=this.mediatorMap[t];if(!e)return null;for(var i=e.listNotificationInterests(),n=i.length;n--;)this.removeObserver(i[n],e);return delete this.mediatorMap[t],e.onRemove(),e},e.prototype.hasMediator=function(t){return null!=this.mediatorMap[t]},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.removeView=function(t){delete e.instanceMap[t]},e.MULTITON_MSG="View instance for this multiton key already constructed!",e.instanceMap={},e}();t.View=e}(t||(t={}));var t;!function(t){var e=function(){function e(t){if(this.view=null,this.commandMap=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);e.instanceMap[t]=this,this.multitonKey=t,this.commandMap={},this.initializeController()}return e.prototype.initializeController=function(){this.view=t.View.getInstance(this.multitonKey)},e.prototype.executeCommand=function(t){var e=this.commandMap[t.getName()];if(e){var i=new e;i.initializeNotifier(this.multitonKey),i.execute(t)}},e.prototype.registerCommand=function(e,i){this.commandMap[e]||this.view.registerObserver(e,new t.Observer(this.executeCommand,this)),this.commandMap[e]=i},e.prototype.hasCommand=function(t){return null!=this.commandMap[t]},e.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this),delete this.commandMap[t])},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.removeController=function(t){delete e.instanceMap[t]},e.MULTITON_MSG="Controller instance for this multiton key already constructed!",e.instanceMap={},e}();t.Controller=e}(t||(t={}));var t;!function(t){var e=function(){function t(e){if(this.proxyMap=null,this.multitonKey=null,t.instanceMap[e])throw Error(t.MULTITON_MSG);t.instanceMap[e]=this,this.multitonKey=e,this.proxyMap={},this.initializeModel()}return t.prototype.initializeModel=function(){},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.removeProxy=function(t){var e=this.proxyMap[t];return e&&(delete this.proxyMap[t],e.onRemove()),e},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]||null},t.prototype.hasProxy=function(t){return null!=this.proxyMap[t]},t.getInstance=function(e){return t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]},t.removeModel=function(e){delete t.instanceMap[e]},t.MULTITON_MSG="Model instance for this multiton key already constructed!",t.instanceMap={},t}();t.Model=e}(t||(t={}));var t;!function(t){var e=function(){function t(t,e,i){"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),this.name=null,this.body=null,this.type=null,this.name=t,this.body=e,this.type=i}return t.prototype.getName=function(){return this.name},t.prototype.setBody=function(t){this.body=t},t.prototype.getBody=function(){return this.body},t.prototype.setType=function(t){this.type=t},t.prototype.getType=function(){return this.type},t.prototype.toString=function(){var t="Notification Name: "+this.getName();return t+="\nBody:"+(null==this.getBody()?"null":this.getBody().toString()),t+="\nType:"+(null==this.getType()?"null":this.getType())},t}();t.Notification=e}(t||(t={}));var t;!function(t){var e=function(){function e(t){if(this.model=null,this.view=null,this.controller=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);this.initializeNotifier(t),e.instanceMap[t]=this,this.initializeFacade()}return e.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},e.prototype.initializeModel=function(){this.model||(this.model=t.Model.getInstance(this.multitonKey))},e.prototype.initializeController=function(){this.controller||(this.controller=t.Controller.getInstance(this.multitonKey))},e.prototype.initializeView=function(){this.view||(this.view=t.View.getInstance(this.multitonKey))},e.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},e.prototype.removeCommand=function(t){this.controller.removeCommand(t)},e.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},e.prototype.registerProxy=function(t){this.model.registerProxy(t)},e.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},e.prototype.removeProxy=function(t){var e;return this.model&&(e=this.model.removeProxy(t)),e},e.prototype.hasProxy=function(t){return this.model.hasProxy(t)},e.prototype.registerMediator=function(t){this.view&&this.view.registerMediator(t)},e.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},e.prototype.removeMediator=function(t){var e;return this.view&&(e=this.view.removeMediator(t)),e},e.prototype.hasMediator=function(t){return this.view.hasMediator(t)},e.prototype.notifyObservers=function(t){this.view&&this.view.notifyObservers(t)},e.prototype.sendNotification=function(e,i,n){"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),this.notifyObservers(new t.Notification(e,i,n))},e.prototype.initializeNotifier=function(t){this.multitonKey=t},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.hasCore=function(t){return e.instanceMap[t]?!0:!1},e.removeCore=function(i){e.instanceMap[i]&&(t.Model.removeModel(i),t.View.removeView(i),t.Controller.removeController(i),delete e.instanceMap[i])},e.MULTITON_MSG="Facade instance for this multiton key already constructed!",e.instanceMap={},e}();t.Facade=e}(t||(t={}));var t;!function(t){var e=function(){function e(){this.multitonKey=null}return e.prototype.initializeNotifier=function(t){this.multitonKey=t},e.prototype.sendNotification=function(t,e,i){"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),this.facade()&&this.facade().sendNotification(t,e,i)},e.prototype.facade=function(){if(null===this.multitonKey)throw Error(e.MULTITON_MSG);return t.Facade.getInstance(this.multitonKey)},e.MULTITON_MSG="multitonKey for this Notifier not yet initialized!",e}();t.Notifier=e}(t||(t={}));var t,e=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i};!function(t){var i=function(t){function i(){t.call(this),this.subCommands=null,this.subCommands=new Array,this.initializeMacroCommand()}return e(i,t),i.prototype.initializeMacroCommand=function(){},i.prototype.addSubCommand=function(t){this.subCommands.push(t)},i.prototype.execute=function(t){for(var e=this.subCommands.slice(0),i=this.subCommands.length,n=0;i>n;n++){var o=e[n],r=new o;r.initializeNotifier(this.multitonKey),r.execute(t)}this.subCommands.splice(0)},i}(t.Notifier);t.MacroCommand=i}(t||(t={}));var t;!function(t){var i=function(t){function i(){t.apply(this,arguments)}return e(i,t),i.prototype.execute=function(t){},i}(t.Notifier);t.SimpleCommand=i}(t||(t={}));var t;!function(t){var i=function(t){function i(e,n){"undefined"==typeof e&&(e=null),"undefined"==typeof n&&(n=null),t.call(this),this.mediatorName=null,this.viewComponent=null,this.mediatorName=null!=e?e:i.NAME,this.viewComponent=n}return e(i,t),i.prototype.getMediatorName=function(){return this.mediatorName},i.prototype.getViewComponent=function(){return this.viewComponent},i.prototype.setViewComponent=function(t){this.viewComponent=t},i.prototype.listNotificationInterests=function(){return new Array},i.prototype.handleNotification=function(t){},i.prototype.onRegister=function(){},i.prototype.onRemove=function(){},i.NAME="Mediator",i}(t.Notifier);t.Mediator=i}(t||(t={}));var t;return function(t){var i=function(t){function i(e,n){"undefined"==typeof e&&(e=null),"undefined"==typeof n&&(n=null),t.call(this),this.proxyName=null,this.data=null,this.proxyName=null!=e?e:i.NAME,null!=n&&this.setData(n)}return e(i,t),i.prototype.getProxyName=function(){return this.proxyName},i.prototype.setData=function(t){this.data=t},i.prototype.getData=function(){return this.data},i.prototype.onRegister=function(){},i.prototype.onRemove=function(){},i.NAME="Proxy",i}(t.Notifier);t.Proxy=i}(t||(t={})),t});var puremvc;!function(t){"use strict";var e=function(){function t(t,e){this.notify=null,this.context=null,this.setNotifyMethod(t),this.setNotifyContext(e)}return t.prototype.getNotifyMethod=function(){return this.notify},t.prototype.setNotifyMethod=function(t){this.notify=t},t.prototype.getNotifyContext=function(){return this.context},t.prototype.setNotifyContext=function(t){this.context=t},t.prototype.notifyObserver=function(t){this.getNotifyMethod().call(this.getNotifyContext(),t)},t.prototype.compareNotifyContext=function(t){return t===this.context},t}();t.Observer=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function e(t){if(this.mediatorMap=null,this.observerMap=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);e.instanceMap[t]=this,this.multitonKey=t,this.mediatorMap={},this.observerMap={},this.initializeView()}return e.prototype.initializeView=function(){},e.prototype.registerObserver=function(t,e){var i=this.observerMap[t];i?i.push(e):this.observerMap[t]=[e]},e.prototype.removeObserver=function(t,e){for(var i=this.observerMap[t],n=i.length;n--;){var o=i[n];if(o.compareNotifyContext(e)){i.splice(n,1);break}}0==i.length&&delete this.observerMap[t]},e.prototype.notifyObservers=function(t){var e=t.getName(),i=this.observerMap[e];if(i)for(var n=i.slice(0),o=n.length,r=0;o>r;r++){var a=n[r];a.notifyObserver(t)}},e.prototype.registerMediator=function(e){var i=e.getMediatorName();if(!this.mediatorMap[i]){e.initializeNotifier(this.multitonKey),this.mediatorMap[i]=e;var n=e.listNotificationInterests(),o=n.length;if(o>0)for(var r=new t.Observer(e.handleNotification,e),a=0;o>a;a++)this.registerObserver(n[a],r);e.onRegister()}},e.prototype.retrieveMediator=function(t){return this.mediatorMap[t]||null},e.prototype.removeMediator=function(t){var e=this.mediatorMap[t];if(!e)return null;for(var i=e.listNotificationInterests(),n=i.length;n--;)this.removeObserver(i[n],e);return delete this.mediatorMap[t],e.onRemove(),e},e.prototype.hasMediator=function(t){return null!=this.mediatorMap[t]},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.removeView=function(t){delete e.instanceMap[t]},e.MULTITON_MSG="View instance for this multiton key already constructed!",e.instanceMap={},e}();t.View=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function e(t){if(this.view=null,this.commandMap=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);e.instanceMap[t]=this,this.multitonKey=t,this.commandMap={},this.initializeController()}return e.prototype.initializeController=function(){this.view=t.View.getInstance(this.multitonKey)},e.prototype.executeCommand=function(t){var e=this.commandMap[t.getName()];if(e){var i=new e;i.initializeNotifier(this.multitonKey),i.execute(t)}},e.prototype.registerCommand=function(e,i){this.commandMap[e]||this.view.registerObserver(e,new t.Observer(this.executeCommand,this)),this.commandMap[e]=i},e.prototype.hasCommand=function(t){return null!=this.commandMap[t]},e.prototype.removeCommand=function(t){this.hasCommand(t)&&(this.view.removeObserver(t,this),delete this.commandMap[t])},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.removeController=function(t){delete e.instanceMap[t]},e.MULTITON_MSG="Controller instance for this multiton key already constructed!",e.instanceMap={},e}();t.Controller=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function t(e){if(this.proxyMap=null,this.multitonKey=null,t.instanceMap[e])throw Error(t.MULTITON_MSG);t.instanceMap[e]=this,this.multitonKey=e,this.proxyMap={},this.initializeModel()}return t.prototype.initializeModel=function(){},t.prototype.registerProxy=function(t){t.initializeNotifier(this.multitonKey),this.proxyMap[t.getProxyName()]=t,t.onRegister()},t.prototype.removeProxy=function(t){var e=this.proxyMap[t];return e&&(delete this.proxyMap[t],e.onRemove()),e},t.prototype.retrieveProxy=function(t){return this.proxyMap[t]||null},t.prototype.hasProxy=function(t){return null!=this.proxyMap[t]},t.getInstance=function(e){return t.instanceMap[e]||(t.instanceMap[e]=new t(e)),t.instanceMap[e]},t.removeModel=function(e){delete t.instanceMap[e]},t.MULTITON_MSG="Model instance for this multiton key already constructed!",t.instanceMap={},t}();t.Model=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function t(t,e,i){"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),this.name=null,this.body=null,this.type=null,this.name=t,this.body=e,this.type=i}return t.prototype.getName=function(){return this.name},t.prototype.setBody=function(t){this.body=t},t.prototype.getBody=function(){return this.body},t.prototype.setType=function(t){this.type=t},t.prototype.getType=function(){return this.type},t.prototype.toString=function(){var t="Notification Name: "+this.getName();return t+="\nBody:"+(null==this.getBody()?"null":this.getBody().toString()),t+="\nType:"+(null==this.getType()?"null":this.getType())},t}();t.Notification=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function e(t){if(this.model=null,this.view=null,this.controller=null,this.multitonKey=null,e.instanceMap[t])throw Error(e.MULTITON_MSG);this.initializeNotifier(t),e.instanceMap[t]=this,this.initializeFacade()}return e.prototype.initializeFacade=function(){this.initializeModel(),this.initializeController(),this.initializeView()},e.prototype.initializeModel=function(){this.model||(this.model=t.Model.getInstance(this.multitonKey))},e.prototype.initializeController=function(){this.controller||(this.controller=t.Controller.getInstance(this.multitonKey))},e.prototype.initializeView=function(){this.view||(this.view=t.View.getInstance(this.multitonKey))},e.prototype.registerCommand=function(t,e){this.controller.registerCommand(t,e)},e.prototype.removeCommand=function(t){this.controller.removeCommand(t)},e.prototype.hasCommand=function(t){return this.controller.hasCommand(t)},e.prototype.registerProxy=function(t){this.model.registerProxy(t)},e.prototype.retrieveProxy=function(t){return this.model.retrieveProxy(t)},e.prototype.removeProxy=function(t){var e;return this.model&&(e=this.model.removeProxy(t)),e},e.prototype.hasProxy=function(t){return this.model.hasProxy(t)},e.prototype.registerMediator=function(t){this.view&&this.view.registerMediator(t)},e.prototype.retrieveMediator=function(t){return this.view.retrieveMediator(t)},e.prototype.removeMediator=function(t){var e;return this.view&&(e=this.view.removeMediator(t)),e},e.prototype.hasMediator=function(t){return this.view.hasMediator(t)},e.prototype.notifyObservers=function(t){this.view&&this.view.notifyObservers(t)},e.prototype.sendNotification=function(e,i,n){"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),this.notifyObservers(new t.Notification(e,i,n))},e.prototype.initializeNotifier=function(t){this.multitonKey=t},e.getInstance=function(t){return e.instanceMap[t]||(e.instanceMap[t]=new e(t)),e.instanceMap[t]},e.hasCore=function(t){return e.instanceMap[t]?!0:!1},e.removeCore=function(i){e.instanceMap[i]&&(t.Model.removeModel(i),t.View.removeView(i),t.Controller.removeController(i),delete e.instanceMap[i])},e.MULTITON_MSG="Facade instance for this multiton key already constructed!",e.instanceMap={},e}();t.Facade=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(){function e(){this.multitonKey=null}return e.prototype.initializeNotifier=function(t){this.multitonKey=t},e.prototype.sendNotification=function(t,e,i){"undefined"==typeof e&&(e=null),"undefined"==typeof i&&(i=null),this.facade()&&this.facade().sendNotification(t,e,i)},e.prototype.facade=function(){if(null===this.multitonKey)throw Error(e.MULTITON_MSG);return t.Facade.getInstance(this.multitonKey)},e.MULTITON_MSG="multitonKey for this Notifier not yet initialized!",e}();t.Notifier=e}(puremvc||(puremvc={}));var __extends=this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);i.prototype=e.prototype,t.prototype=new i},puremvc;!function(t){"use strict";var e=function(t){function e(){t.call(this),this.subCommands=null,this.subCommands=new Array,this.initializeMacroCommand()}return __extends(e,t),e.prototype.initializeMacroCommand=function(){},e.prototype.addSubCommand=function(t){this.subCommands.push(t)},e.prototype.execute=function(t){for(var e=this.subCommands.slice(0),i=this.subCommands.length,n=0;i>n;n++){var o=e[n],r=new o;r.initializeNotifier(this.multitonKey),r.execute(t)}this.subCommands.splice(0)},e}(t.Notifier);t.MacroCommand=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(t){function e(){t.apply(this,arguments)}return __extends(e,t),e.prototype.execute=function(t){},e}(t.Notifier);t.SimpleCommand=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(t){function e(i,n){"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),t.call(this),this.mediatorName=null,this.viewComponent=null,this.mediatorName=null!=i?i:e.NAME,this.viewComponent=n}return __extends(e,t),e.prototype.getMediatorName=function(){return this.mediatorName},e.prototype.getViewComponent=function(){return this.viewComponent},e.prototype.setViewComponent=function(t){this.viewComponent=t},e.prototype.listNotificationInterests=function(){return new Array},e.prototype.handleNotification=function(t){},e.prototype.onRegister=function(){},e.prototype.onRemove=function(){},e.NAME="Mediator",e}(t.Notifier);t.Mediator=e}(puremvc||(puremvc={}));var puremvc;!function(t){"use strict";var e=function(t){function e(i,n){"undefined"==typeof i&&(i=null),"undefined"==typeof n&&(n=null),t.call(this),this.proxyName=null,this.data=null,this.proxyName=null!=i?i:e.NAME,null!=n&&this.setData(n)}return __extends(e,t),e.prototype.getProxyName=function(){return this.proxyName},e.prototype.setData=function(t){this.data=t},e.prototype.getData=function(){return this.data},e.prototype.onRegister=function(){},e.prototype.onRemove=function(){},e.NAME="Proxy",e}(t.Notifier);t.Proxy=e}(puremvc||(puremvc={}));